# プロジェクトの基本構造

## 1. ディレクトリ構造

```
crules/
  ├── template/      # テンプレートディレクトリ（プロジェクトルート直下）
  │   ├── app/       # アプリケーション開発用
  │   │   ├── rules/ # プロジェクトルール
  │   │   └── notes/ # プロジェクトノート
  │   └── flutter/   # Flutter開発用
  │       ├── rules/ # プロジェクトルール
  │       └── notes/ # プロジェクトノート
  ├── crules/        # ソースコード
  │   ├── cli.py     # コマンドラインインターフェース
  │   ├── commands.py # コマンド実装
  │   ├── utils.py   # ユーティリティ関数
  │   └── __init__.py # パッケージ初期化
  ├── setup.py       # パッケージ設定
  ├── requirements.txt # 依存関係
  └── README.md      # プロジェクト説明
```

## 2. ファイル配置

- プロジェクトルール: `/.cursor/rules/` 以下に配置
- プロジェクトノート: `/.notes/` 以下に配置
- 編集用ファイル: `/template/` 以下に配置

## 3. ファイル形式

- プロジェクトルール: `.mdc` 拡張子（YAML マター付き）
  ```
  ---
  description: "このルールの概要を記述します"
  globs: src/**/*.ts, src/**/*.tsx
  alwaysApply: false
  ---
  ```
- プロジェクトノート: `.md` 拡張子（YAML マター付き）
  ```
  ---
  description: "このノートの概要を記述します"
  globs: src/**/*.ts, src/**/*.tsx
  alwaysApply: false
  ---
  ```
- 編集用ファイル: `.md` 拡張子（YAML マター付き）
- その他のファイル: 配置先と同じ拡張子

## 4. 機能詳細

### 4.1 ルールとノートの関係

- ルールとノートは別物として管理
- ルールは階層構造を持つ
- ルールファイルは 1 ファイル 30 行程度に制限
- ノートは Cursor エディタで直接編集・作成可能
- ノートも階層構造を持つことができる

### 4.2 編集管理

- 編集用ファイルは `/template` ディレクトリ以下に配置
- プロジェクトルールは直接編集できません。テンプレートディレクトリのファイルを編集し、適切な位置に配置してください。
- ノートは編集可能で、開発中に更新されます。`deploy`コマンドでは配置されません。

### 4.3 テンプレートディレクトリの役割

- テンプレートディレクトリはプロジェクトルート直下の`/template`に配置されます
- 各テンプレートディレクトリ（例：`app`、`flutter`）には、プロジェクトタイプごとのルールとノートのテンプレートが含まれます
- `init`コマンドは、指定されたテンプレートディレクトリからプロジェクトルールとノートを適切な位置に配置します
- `deploy`コマンドは、編集済みのテンプレートファイルを適切な位置に配置します
- `list`コマンドは、指定されたテンプレートディレクトリ内の利用可能なルールを一覧表示します
